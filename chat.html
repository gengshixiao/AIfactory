<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI助手体验 - 生产制造样板间</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #0a0f1c 0%, #1e293b 30%, #0f172a 100%);
            color: #e2e8f0;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* 星空背景 */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(2px 2px at 20px 30px, #eee, transparent),
                radial-gradient(2px 2px at 40px 70px, rgba(255,255,255,0.8), transparent),
                radial-gradient(1px 1px at 90px 40px, #fff, transparent),
                radial-gradient(1px 1px at 130px 80px, rgba(255,255,255,0.6), transparent),
                radial-gradient(2px 2px at 160px 30px, #ddd, transparent);
            background-repeat: repeat;
            background-size: 200px 100px;
            animation: stars 20s linear infinite;
            z-index: -1;
        }

        @keyframes stars {
            0% { transform: translateY(0); }
            100% { transform: translateY(-100px); }
        }

        /* 导航栏 */
        .nav-bar {
            background: rgba(15, 23, 42, 0.9);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(59, 130, 246, 0.2);
            padding: 1rem 2rem;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 100;
        }

        .nav-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        .nav-title {
            font-size: 1.5rem;
            font-weight: 600;
            background: linear-gradient(135deg, #3b82f6, #10b981);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .back-btn {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .back-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3);
        }

        /* 聊天容器 */
        .chat-container {
            max-width: 800px;
            margin: 120px auto 20px;
            padding: 0 2rem;
        }

        .chat-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .ai-title {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, #3b82f6, #10b981);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .ai-subtitle {
            color: #94a3b8;
            font-size: 1.1rem;
        }

        /* 聊天区域 */
        .chat-area {
            background: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(59, 130, 246, 0.2);
            border-radius: 16px;
            height: 500px;
            overflow-y: auto;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .message {
            margin-bottom: 1.5rem;
            display: flex;
            align-items: flex-start;
            gap: 1rem;
        }

        .message.user {
            flex-direction: row-reverse;
        }

        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            flex-shrink: 0;
        }

        .avatar.user {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
        }

        .avatar.ai {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
        }

        .message-content {
            background: rgba(51, 65, 85, 0.6);
            padding: 1rem 1.5rem;
            border-radius: 12px;
            max-width: 70%;
            line-height: 1.6;
        }

        .message.user .message-content {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(29, 78, 216, 0.2));
            border: 1px solid rgba(59, 130, 246, 0.3);
        }

        .message.ai .message-content {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(5, 150, 105, 0.2));
            border: 1px solid rgba(16, 185, 129, 0.3);
        }

        /* 输入区域 */
        .input-area {
            display: flex;
            gap: 1rem;
            align-items: flex-end;
        }

        .message-input {
            flex: 1;
            background: rgba(15, 23, 42, 0.8);
            border: 1px solid rgba(59, 130, 246, 0.3);
            border-radius: 12px;
            padding: 1rem 1.5rem;
            color: #e2e8f0;
            font-size: 1rem;
            resize: none;
            min-height: 50px;
            max-height: 120px;
            backdrop-filter: blur(20px);
        }

        .message-input:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .message-input::placeholder {
            color: #64748b;
        }

        .send-btn {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            flex-shrink: 0;
        }

        .send-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3);
        }

        .send-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        /* 滚动条样式 */
        .chat-area::-webkit-scrollbar {
            width: 6px;
        }

        .chat-area::-webkit-scrollbar-track {
            background: rgba(15, 23, 42, 0.3);
            border-radius: 3px;
        }

        .chat-area::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #3b82f6, #10b981);
            border-radius: 3px;
        }

        .chat-area::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #1d4ed8, #059669);
        }

        @media (max-width: 768px) {
            .chat-container {
                padding: 0 1rem;
                margin-top: 100px;
            }
            
            .nav-content {
                padding: 0 1rem;
            }
            
            .message-content {
                max-width: 85%;
            }
        }
    </style>
</head>
<body>
    <!-- 导航栏 -->
    <nav class="nav-bar">
        <div class="nav-content">
            <div class="nav-title">AI赋能智能工厂</div>
            <a href="index.html" class="back-btn">返回样板间</a>
        </div>
    </nav>

    <!-- 聊天容器 -->
    <div class="chat-container">
        <div class="chat-header">
            <h1 class="ai-title" id="ai-name">AI助手体验</h1>
            <p class="ai-subtitle" id="ai-description">智能对话，助力生产制造</p>
        </div>

        <!-- 聊天区域 -->
        <div class="chat-area" id="chat-area">
            <div class="message ai">
                <div class="avatar ai">AI</div>
                <div class="message-content">
                    您好！我是您的AI助手，很高兴为您服务。我可以帮助您解决生产制造过程中的各种问题，请告诉我您需要什么帮助？
                </div>
            </div>
        </div>

        <!-- 输入区域 -->
        <div class="input-area">
            <textarea 
                class="message-input" 
                id="message-input"
                placeholder="请输入您的问题..."
                rows="1"
            ></textarea>
            <button class="send-btn" id="send-btn">发送</button>
        </div>
    </div>

    <script>
        // 获取页面参数
        const urlParams = new URLSearchParams(window.location.search);
        const aiType = urlParams.get('type') || 'default';
        const aiName = urlParams.get('name') || 'AI助手';

        // AI助手配置
        const aiConfigs = {
            'design-process': {
                name: '设计工艺管理助手',
                description: '智能工艺设计，优化生产流程',
                welcome: '您好！我是设计工艺管理助手。我可以帮助您进行产品设计、工艺规划、技术文档管理等工作。请告诉我您的设计需求。'
            },
            'testing': {
                name: '测试助手',
                description: '智能测试分析，确保产品质量',
                welcome: '您好！我是测试助手。我可以协助您进行产品测试、数据分析、质量评估等工作。请告诉我您的测试需求。'
            },
            'production-scheduling': {
                name: '智能排产助手',
                description: '智能排产优化，提升生产效率',
                welcome: '您好！我是智能排产助手。我可以帮助您进行生产计划制定、设备调度、产能优化等工作。请告诉我您的排产需求。'
            },
            'quality-management': {
                name: '生产质量管理助手',
                description: '全面质量管理，保障产品品质',
                welcome: '您好！我是生产质量管理助手。我可以协助您进行质量检测、问题分析、改进建议等工作。请告诉我您的质量管理需求。'
            },
            'inventory-warning': {
                name: '库存风险预警助手',
                description: '智能库存监控，预防断货风险',
                welcome: '您好！我是库存风险预警助手。我可以帮助您监控库存水平、预测需求、预警风险等工作。请告诉我您的库存管理需求。'
            },
            'logistics': {
                name: '物流管理助手',
                description: '智能物流调度，优化配送效率',
                welcome: '您好！我是物流管理助手。我可以协助您进行配送路线规划、运输调度、物流成本优化等工作。请告诉我您的物流需求。'
            },
            'customer-intelligence': {
                name: '客户情报助手',
                description: '深度客户分析，助力精准营销',
                welcome: '您好！我是客户情报助手。我可以帮助您分析客户行为、市场趋势、竞争对手情报等工作。请告诉我您的客户分析需求。'
            },
            'sales-service': {
                name: '产品销售客服',
                description: '智能客服服务，提升客户体验',
                welcome: '您好！我是产品销售客服。我可以帮助您解答产品问题、处理订单、提供技术支持等服务。请告诉我您的需求。'
            },
            'repair-knowledge': {
                name: '设备维修知识助手',
                description: '智能维修指导，快速解决问题',
                welcome: '您好！我是设备维修知识助手。我可以帮助您进行设备故障诊断、维修指导、技术培训等工作。请告诉我您的维修需求。'
            },
            'work-order': {
                name: '工单管理助手',
                description: '智能工单处理，提升服务效率',
                welcome: '您好！我是工单管理助手。我可以帮助您进行工单创建、分配、跟踪、完成等工作。请告诉我您的工单管理需求。'
            }
        };

        // 设置页面标题和描述
        const config = aiConfigs[aiType] || aiConfigs['default'];
        document.getElementById('ai-name').textContent = config.name;
        document.getElementById('ai-description').textContent = config.description;

        // 更新欢迎消息
        const welcomeMessage = document.querySelector('.message.ai .message-content');
        welcomeMessage.textContent = config.welcome;

        // 聊天功能
        const chatArea = document.getElementById('chat-area');
        const messageInput = document.getElementById('message-input');
        const sendBtn = document.getElementById('send-btn');

        // 自动调整输入框高度
        messageInput.addEventListener('input', function() {
            this.style.height = 'auto';
            this.style.height = Math.min(this.scrollHeight, 120) + 'px';
        });

        // 发送消息
        function sendMessage() {
            const message = messageInput.value.trim();
            if (!message) return;

            // 添加用户消息
            addMessage(message, 'user');
            messageInput.value = '';
            messageInput.style.height = 'auto';

            // 模拟AI回复
            setTimeout(() => {
                const responses = [
                    '我理解您的需求，让我为您分析一下...',
                    '这是一个很好的问题，根据我的分析...',
                    '基于当前的系统数据，我建议...',
                    '我已经为您准备好了解决方案...',
                    '这个问题我可以帮您解决，具体步骤是...'
                ];
                const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                addMessage(randomResponse, 'ai');
            }, 1000);
        }

        // 添加消息到聊天区域
        function addMessage(content, type) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type}`;
            
            messageDiv.innerHTML = `
                <div class="avatar ${type}">${type === 'user' ? '我' : 'AI'}</div>
                <div class="message-content">${content}</div>
            `;
            
            chatArea.appendChild(messageDiv);
            chatArea.scrollTop = chatArea.scrollHeight;
        }

        // 事件监听
        sendBtn.addEventListener('click', sendMessage);
        messageInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });

        // 回车发送，Shift+回车换行
        messageInput.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });
    </script>
</body>
</html>
